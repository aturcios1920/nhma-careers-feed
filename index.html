<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NHMA Career Opportunities</title>

<!-- Load Open Sans -->
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Open Sans', Arial, sans-serif;
  background: #ffffff;
  padding: 20px;
  max-width: 750px;
  margin: auto;
  color: #000;
}

h2 {
  color: #18376a;
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 14px;
}

.job-item {
  padding: 14px 0;
  border-bottom: 1px solid #e5e5e5;
  cursor: default;
  transition: background 0.2s ease;
}

.job-item:hover {
  background: #f8f9fc;
}

.job-title {
  color: #18376a;
  font-weight: 600;
  text-decoration: none;
  display: block;
  margin-bottom: 4px;
  font-size: 16px;
}

.job-date {
  color: #666;
  font-size: 13px;
  margin-top: 4px;
}

#feed-container {
  max-height: 420px;
  overflow-y: auto;
  padding-right: 6px;
  border: 1px solid #e1e1e1;
  border-radius: 8px;
  box-shadow:0 3px 12px rgba(0,0,0,0.08);
}

</style>
</head>

<body>

<h2>Career Opportunities</h2>

<div id="feed-container"></div>

<div style="text-align:right; margin-top:12px;">
  <a href="https://careers.nhmamd.org/jobs/" target="_blank" style="
    background:#18376a; 
    color:#ffffff; 
    text-decoration:none; 
    padding:8px 14px; 
    border-radius:6px; 
    font-size:14px; 
    display:inline-block;">
    View All Jobs â†’
  </a>
</div>

<script>
(async () => {
  const feedUrl = "https://careers.nhmamd.org/jobs?display=rss";
  const response = await fetch('https://api.allorigins.win/raw?url=' + encodeURIComponent(feedUrl));
  const text = await response.text();
  const parser = new DOMParser();
  const xml = parser.parseFromString(text, "application/xml");
  const items = xml.querySelectorAll("item");
  const container = document.getElementById("feed-container");

  items.forEach(item => {
    const title = item.querySelector("title").textContent;
    const link = item.querySelector("link").textContent;
    const description = item.querySelector("description").textContent.replace(/<[^>]*>/g, "");
    const firstSentence = description.split('. ')[0] + '.';
    const pubDate = new Date(item.querySelector("pubDate").textContent);
    const formattedDate = pubDate.toLocaleDateString('en-US', { month:'short', day:'numeric', year:'numeric' });

    container.innerHTML += `
      <div class="job-item">
        <a class="job-title" href="${link}" target="_blank">${title}</a>
        <p>${firstSentence}</p>
        <div class="job-date">${formattedDate}</div>
      </div>
    `;
  });
})();
</script>

</body>
</html>
